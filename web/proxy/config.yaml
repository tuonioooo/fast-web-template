#---------------------------------------------------#
## é€šç”¨çš„ Clash/Mihomo é…ç½®ç¤ºä¾‹
## åŒ…å«ï¼šæ‰‹åŠ¨èŠ‚ç‚¹ + è®¢é˜…èŠ‚ç‚¹ + ç­–ç•¥ç»„ + è§„åˆ™é›†
#---------------------------------------------------#

#---------------------------------------------------#
## åŸºæœ¬ä¿¡æ¯é…ç½®ï¼Œä¸è®¾ç½®çš„è¯ä¸€èˆ¬é»˜è®¤å³å¯
#---------------------------------------------------#
# æ˜¯å¦å…è®¸æ¥è‡ªå±€åŸŸç½‘çš„è¿æ¥ï¼ˆå¼€å¯åï¼Œå…¶ä»–è®¾å¤‡å¯ä»¥é€šè¿‡ä½ çš„ç”µè„‘ä¸Šç½‘ï¼‰
allow-lan: true
# ç›‘å¬åœ°å€ï¼Œ"*"è¡¨ç¤ºç›‘å¬æ‰€æœ‰åœ°å€ï¼Œè¿™æ ·å±€åŸŸç½‘å†…å…¶ä»–è®¾å¤‡æ‰èƒ½è¿æ¥
bind-address: "*"

#---------------------------------------------------#
## é¢æ¿ä¿¡æ¯é…ç½®
#---------------------------------------------------#
# æ§åˆ¶é¢æ¿è®¿é—®åœ°å€å’Œç«¯å£ï¼Œå¯ä»¥é€šè¿‡æµè§ˆå™¨è®¿é—®æŸ¥çœ‹è¿æ¥çŠ¶æ€
external-controller: 0.0.0.0:9090
# MetaCubeXç•Œé¢ï¼Œæ¯”ä¸Šé¢é‚£ä¸ªæ›´æ¼‚äº®ï¼ˆç›®å‰å¯ç”¨çš„æ˜¯è¿™ä¸ªï¼‰
external-ui: ui
# è®¿é—®æ§åˆ¶é¢æ¿çš„å¯†ç ï¼Œè®¾ç½®ååˆ«äººå°±ä¸èƒ½éšæ„è®¿é—®ä½ çš„æ§åˆ¶é¢æ¿äº†
secret: "your_password" # è¯·æ›¿æ¢ä¸ºä½ è‡ªå·±çš„å¯†ç 

#---------------------------------------------------#
## DNSè®¾ç½®ï¼ˆå¤„ç†åŸŸåè§£æçš„æ–¹å¼ï¼Œå¾ˆé‡è¦ï¼ï¼‰
#---------------------------------------------------#
dns:
  enable: true
  ipv6: false # å…³é—­IPv6ï¼Œå¤§å¤šæ•°æƒ…å†µä¸‹ä¸éœ€è¦
  enhanced-mode: fake-ip # åŠ é€ŸDNSè§£æçš„æ¨¡å¼
  fake-ip-range: 198.18.0.0/16 # è™šæ‹ŸIPåœ°å€æ± 
  # é»˜è®¤ DNS, ç”¨äºè§£æ DNS æœåŠ¡å™¨ çš„åŸŸå
  default-nameserver:
    - 223.5.5.5  # é˜¿é‡ŒDNS
    - 119.29.29.29  # 114DNS
  # å›½å†…DNSæœåŠ¡å™¨ï¼ˆåŠ å¯†è¿æ¥ï¼Œæ›´å®‰å…¨ï¼‰
  nameserver:
    - https://doh.pub/dns-query         # è…¾è®¯DNS
    - https://dns.alidns.com/dns-query  # é˜¿é‡ŒDNS
  # å›½å¤–DNSæœåŠ¡å™¨ï¼Œç”¨äºè§£æè¢«æ±¡æŸ“çš„åŸŸå
  fallback:
     - https://dns.google/dns-query     # è°·æ­ŒDNS
     - https://cloudflare-dns.com/dns-query  # Cloudflare DNS
  # å“ªäº›æƒ…å†µä¸‹ä¼šä½¿ç”¨å›½å¤–DNS
  fallback-filter:
    geoip: true
    geoip-code: CN  # å¦‚æœè§£æç»“æœä¸æ˜¯CN(ä¸­å›½)ï¼Œåˆ™ä½¿ç”¨fallback
    # è¿™äº›ç½‘æ®µçš„ç»“æœä¼šè¢«è§†ä¸ºæ±¡æŸ“ï¼Œnameserverè§£æå‡ºè¿™äº›ç»“æœæ—¶å°†ä¼šé‡‡ç”¨ fallbackçš„è§£æç»“æœ
    ipcidr:
      - 0.0.0.0/8
      - 127.0.0.0/8
      - 240.0.0.0/4
    # è¿™äº›åŸŸåè¢«è§†ä¸ºå·²æ±¡æŸ“ï¼ŒåŒ¹é…åˆ°è¿™äº›åŸŸåï¼Œä¼šç›´æ¥ä½¿ç”¨ fallbackè§£æï¼Œä¸å»ä½¿ç”¨ nameserver
    # è¿™äº›ç½‘ç«™å¼ºåˆ¶ä½¿ç”¨å›½å¤–DNSè§£æï¼Œé¿å…è¢«æ±¡æŸ“
    domain:
      - '+.google.com'
      - '+.google.com.hk'
      - '+.googleapis.com'
      - '+.googleusercontent.com'
      - '+.gstatic.com'
      - '+.facebook.com'
      - '+.fbcdn.net'
      - '+.youtube.com'
      - '+.ytimg.com'
      - '+.twitter.com'
      - '+.twimg.com'
      - '+.t.co'
      - '+.github.com'
      - '+.githubusercontent.com'
      - '+.googlevideo.com'

#---------------------------------------------------#
## ç›‘å¬ç«¯å£è®¾ç½®ï¼ˆæœ¬åœ°ä»£ç†ç«¯å£ï¼‰
#---------------------------------------------------#
listeners:
  - name: mixed0
    type: mixed
    port: 42000
    proxy: LoadBalance
  - name: mixed1
    type: mixed
    port: 42001
    proxy: LoadBalance
  - name: mixed2
    type: mixed
    port: 42002
    proxy: LoadBalance
  - name: mixed3
    type: mixed
    port: 42003
    proxy: LoadBalance
  - name: mixed4
    type: mixed
    port: 42004
    proxy: LoadBalance

#---------------------------------------------------#
## ä»£ç†æœåŠ¡å™¨å®šä¹‰
#---------------------------------------------------#
proxies:
  - {name: vmess-ws-tls-argo-us-east-claw-tuonizhysg-1-78ddfc4f7c-2gdjk-443-ä¼˜é€‰IP-104.16.192.0, server: 104.16.192.0, port: 443, type: vmess, uuid: 6dd31d62-306d-446e-87d2-5f3f7e2eca95, alterId: 0, cipher: auto, tls: true, servername: berry-tion-boom-rounds.trycloudflare.com, network: ws, ws-opts: {path: "/6dd31d62-306d-446e-87d2-5f3f7e2eca95-vm?ed=2048", headers: {Host: berry-tion-boom-rounds.trycloudflare.com}}}
  - {name: vmess-ws-tls-argo-us-east-claw-tuonizhysg-1-78ddfc4f7c-2gdjk-443-ä¼˜é€‰IP-104.16.64.0, server: 104.16.64.0, port: 443, type: vmess, uuid: 6dd31d62-306d-446e-87d2-5f3f7e2eca95, alterId: 0, cipher: auto, tls: true, servername: berry-tion-boom-rounds.trycloudflare.com, network: ws, ws-opts: {path: "/6dd31d62-306d-446e-87d2-5f3f7e2eca95-vm?ed=2048", headers: {Host: berry-tion-boom-rounds.trycloudflare.com}}}
  - {name: vmess-ws-tls-argo-us-east-claw-tuonizhysg-1-78ddfc4f7c-2gdjk-443-ä¼˜é€‰IP-104.18.128.0, server: 104.18.128.0, port: 443, type: vmess, uuid: 6dd31d62-306d-446e-87d2-5f3f7e2eca95, alterId: 0, cipher: auto, tls: true, servername: berry-tion-boom-rounds.trycloudflare.com, network: ws, ws-opts: {path: "/6dd31d62-306d-446e-87d2-5f3f7e2eca95-vm?ed=2048", headers: {Host: berry-tion-boom-rounds.trycloudflare.com}}}
  - {name: vmess-ws-tls-argo-us-east-claw-tuonizhysg-1-78ddfc4f7c-2gdjk-443-ä¼˜é€‰IP-104.17.160.0, server: 104.17.160.0, port: 443, type: vmess, uuid: 6dd31d62-306d-446e-87d2-5f3f7e2eca95, alterId: 0, cipher: auto, tls: true, servername: berry-tion-boom-rounds.trycloudflare.com, network: ws, ws-opts: {path: "/6dd31d62-306d-446e-87d2-5f3f7e2eca95-vm?ed=2048", headers: {Host: berry-tion-boom-rounds.trycloudflare.com}}}
  - {name: vmess-ws-tls-argo-us-east-claw-tuonizhysg-1-78ddfc4f7c-2gdjk-443-ä¼˜é€‰IP-104.18.64.0, server: 104.18.64.0, port: 443, type: vmess, uuid: 6dd31d62-306d-446e-87d2-5f3f7e2eca95, alterId: 0, cipher: auto, tls: true, servername: berry-tion-boom-rounds.trycloudflare.com, network: ws, ws-opts: {path: "/6dd31d62-306d-446e-87d2-5f3f7e2eca95-vm?ed=2048", headers: {Host: berry-tion-boom-rounds.trycloudflare.com}}}

# ä»£ç†åˆ†ç»„ï¼ˆè®©ä½ å¯ä»¥é€‰æ‹©èµ°ç›´è¿è¿˜æ˜¯ä»£ç†ï¼‰
proxy-groups:
  - name: ğŸ”° èŠ‚ç‚¹é€‰æ‹©
    type: select
    proxies:
      - vmess-ws-tls-argo-us-east-claw-tuonizhysg-1-78ddfc4f7c-2gdjk-443-ä¼˜é€‰IP-104.16.192.0
      - vmess-ws-tls-argo-us-east-claw-tuonizhysg-1-78ddfc4f7c-2gdjk-443-ä¼˜é€‰IP-104.16.64.0
      - vmess-ws-tls-argo-us-east-claw-tuonizhysg-1-78ddfc4f7c-2gdjk-443-ä¼˜é€‰IP-104.18.128.0
      - vmess-ws-tls-argo-us-east-claw-tuonizhysg-1-78ddfc4f7c-2gdjk-443-ä¼˜é€‰IP-104.17.160.0
      - vmess-ws-tls-argo-us-east-claw-tuonizhysg-1-78ddfc4f7c-2gdjk-443-ä¼˜é€‰IP-104.18.64.0
  # è‡ªåŠ¨æµ‹é€Ÿé€‰æ‹©æœ€å¿«çš„ä»£ç†
  - name: â™»ï¸ è‡ªåŠ¨é€‰æ‹©
    type: url-test
    url: http://www.gstatic.com/generate_204
    interval: 300
    proxies:
      - vmess-ws-tls-argo-us-east-claw-tuonizhysg-1-78ddfc4f7c-2gdjk-443-ä¼˜é€‰IP-104.16.192.0
      - vmess-ws-tls-argo-us-east-claw-tuonizhysg-1-78ddfc4f7c-2gdjk-443-ä¼˜é€‰IP-104.16.64.0
      - vmess-ws-tls-argo-us-east-claw-tuonizhysg-1-78ddfc4f7c-2gdjk-443-ä¼˜é€‰IP-104.18.128.0
      - vmess-ws-tls-argo-us-east-claw-tuonizhysg-1-78ddfc4f7c-2gdjk-443-ä¼˜é€‰IP-104.17.160.0
      - vmess-ws-tls-argo-us-east-claw-tuonizhysg-1-78ddfc4f7c-2gdjk-443-ä¼˜é€‰IP-104.18.64.0
  # è´Ÿè½½å‡è¡¡
  - name: ğŸ¥ LoadBalance
    type: load-balance
    strategy: consistent-hashing  # åŒä¸€ç›®æ ‡ç”¨åŒä¸€èŠ‚ç‚¹
    proxies:
      - vmess-ws-tls-argo-us-east-claw-tuonizhysg-1-78ddfc4f7c-2gdjk-443-ä¼˜é€‰IP-104.16.192.0
      - vmess-ws-tls-argo-us-east-claw-tuonizhysg-1-78ddfc4f7c-2gdjk-443-ä¼˜é€‰IP-104.16.64.0
      - vmess-ws-tls-argo-us-east-claw-tuonizhysg-1-78ddfc4f7c-2gdjk-443-ä¼˜é€‰IP-104.18.128.0
      - vmess-ws-tls-argo-us-east-claw-tuonizhysg-1-78ddfc4f7c-2gdjk-443-ä¼˜é€‰IP-104.17.160.0
      - vmess-ws-tls-argo-us-east-claw-tuonizhysg-1-78ddfc4f7c-2gdjk-443-ä¼˜é€‰IP-104.18.64.0