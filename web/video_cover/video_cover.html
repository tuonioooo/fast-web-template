<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>视频封面生成器 - 一天一个强大的网站</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"></link>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@400;500;700;900&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Noto Sans SC', sans-serif;
      background-color: #121212;
    }
    .header-line {
      border-left: 6px solid #f5b200;
    }
    .image-container {
      width: 100%;
      height: 100%;
      position: relative;
      overflow: hidden;
    }
    .main-image {
      width: 100%;
      height: 100%;
      object-fit: contain;
      display: block;
      background-color: black;
    }
    .episode-tag {
      background-color: #f5b200;
      color: #000;
      padding: 8px 16px;
      border-radius: 6px;
      transform: rotate(15deg);
      box-shadow: 0 2px 8px rgba(245, 178, 0, 0.4);
      position: relative;
      display: flex;
      align-items: center;
      justify-content: center;
      height: 100%;
      min-height: 80px;
    }
    .film-icon {
      width: 80px;
      height: 100px;
      background-color: white;
      -webkit-mask: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath d='M19.5 3.5L18 2l-1.5 1.5L15 2l-1.5 1.5L12 2l-1.5 1.5L9 2 7.5 3.5 6 2 4.5 3.5 3 2v20l1.5-1.5L6 22l1.5-1.5L9 22l1.5-1.5L12 22l1.5-1.5L15 22l1.5-1.5L18 22l1.5-1.5L21 22V2l-1.5 1.5zM19 19.09H5V4.91h14v14.18zM6 15h12v2H6zm0-4h12v2H6zm0-4h12v2H6z'/%3E%3C/svg%3E") no-repeat center;
      mask: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath d='M19.5 3.5L18 2l-1.5 1.5L15 2l-1.5 1.5L12 2l-1.5 1.5L9 2 7.5 3.5 6 2 4.5 3.5 3 2v20l1.5-1.5L6 22l1.5-1.5L9 22l1.5-1.5L12 22l1.5-1.5L15 22l1.5-1.5L18 22l1.5-1.5L21 22V2l-1.5 1.5zM19 19.09H5V4.91h14v14.18zM6 15h12v2H6zm0-4h12v2H6zm0-4h12v2H6z'/%3E%3C/svg%3E") no-repeat center;
      -webkit-mask-size: contain;
      mask-size: contain;
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      opacity: 0.8;
    }
    .preview-container {
      transition: all 0.3s ease;
      margin: 0 auto;
      position: relative;
    }
    .aspect-9-16 {
      aspect-ratio: 9/16;
    }
    .aspect-1-1 {
      aspect-ratio: 1/1;
    }
    .aspect-16-9 {
      aspect-ratio: 16/9;
    }
    .aspect-4-5 {
      aspect-ratio: 4/5;
    }
    .macbook-container {
      position: relative;
      width: 440px;
      max-width: 100%;
      margin: 0 auto;
    }
    .macbook-frame {
      width: 100%;
      height: auto;
      position: relative;
      background-color: #1e1e1e;
      border-radius: 16px;
      padding: 12px 12px 40px;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.4);
    }
    .macbook-screen {
      position: relative;
      width: 100%;
      height: 0;
      padding-bottom: 62.5%; /* 16:10 比例 */
      background-color: #000;
      border-radius: 6px;
      overflow: hidden;
    }
    .macbook-content {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      overflow: hidden;
      display: flex;
      justify-content: center;
      align-items: center;
    }
    .content-container {
      position: relative;
      width: 100%;
      height: 100%;
      display: flex;
      justify-content: center;
      align-items: center;
    }
    .vertical-divider {
      position: absolute;
      top: 0;
      height: 100%;
      width: 1px;
      background-color: rgba(255, 255, 255, 0.2);
      z-index: 10;
    }
    .vertical-divider.left {
      left: 0;
    }
    .vertical-divider.right {
      right: 0;
    }
    .macbook-camera {
      position: absolute;
      top: 6px;
      left: 50%;
      transform: translateX(-50%);
      width: 6px;
      height: 6px;
      border-radius: 50%;
      background-color: #333;
    }
    .macbook-base {
      position: absolute;
      bottom: 0;
      left: 50%;
      transform: translateX(-50%);
      width: 120px;
      height: 8px;
      background: linear-gradient(to bottom, #1e1e1e, #444);
      border-bottom-left-radius: 4px;
      border-bottom-right-radius: 4px;
    }
    .custom-input {
      background-color: #2a2a2a;
      border: 1px solid #444;
      color: white;
      border-radius: 6px;
      padding: 8px 12px;
      transition: all 0.3s ease;
    }
    .custom-input:focus {
      border-color: #f5b200;
      outline: none;
      box-shadow: 0 0 0 2px rgba(245, 178, 0, 0.2);
    }
    .custom-btn {
      background-color: #f5b200;
      color: black;
      font-weight: bold;
      padding: 8px 16px;
      border-radius: 6px;
      cursor: pointer;
      transition: all 0.2s ease;
    }
    .custom-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(245, 178, 0, 0.3);
    }
    .custom-btn.secondary {
      background-color: #2a2a2a;
      color: white;
      border: 1px solid #444;
    }
    .custom-btn.secondary:hover {
      background-color: #3a3a3a;
    }
    .color-picker {
      -webkit-appearance: none;
      -moz-appearance: none;
      appearance: none;
      background-color: transparent;
      width: 40px;
      height: 40px;
      border: none;
      cursor: pointer;
    }
    .color-picker::-webkit-color-swatch {
      border-radius: 6px;
      border: 1px solid #444;
    }
    .color-picker::-moz-color-swatch {
      border-radius: 6px;
      border: 1px solid #444;
    }
  </style>
</head>
<body class="min-h-screen flex flex-col items-center p-6">
  <h1 class="text-white text-3xl font-bold mb-8">视频封面生成器</h1>
  
  <div class="w-full max-w-6xl flex flex-col lg:flex-row gap-8">
    <!-- 左侧操作区域 -->
    <div class="lg:w-1/3 bg-gray-900 p-6 rounded-xl shadow-lg">
      <h2 class="text-white text-xl font-bold mb-6">封面设置</h2>
      
      <div class="space-y-6">
        <div>
          <label class="block text-gray-300 mb-2">主标题</label>
          <input type="text" id="mainTitleInput" value="一天一个" class="custom-input w-full">
        </div>
        
        <div>
          <label class="block text-gray-300 mb-2">副标题</label>
          <input type="text" id="subTitleInput" value="强大的网站" class="custom-input w-full">
        </div>
        
        <div>
          <label class="block text-gray-300 mb-2">期数</label>
          <input type="number" id="episodeInput" value="74" min="1" class="custom-input w-full">
        </div>
        
        <div>
          <label class="block text-gray-300 mb-2">主题颜色</label>
          <div class="flex items-center gap-4">
            <input type="color" id="colorPicker" value="#f5b200" class="color-picker">
            <span id="colorValue" class="text-gray-300">#f5b200</span>
          </div>
        </div>
        
        <div>
          <label class="block text-gray-300 mb-2">背景图片</label>
          <input type="file" id="imageInput" accept="image/*" class="hidden">
          <div class="flex gap-3">
            <button id="uploadBtn" class="custom-btn secondary flex-1">选择图片</button>
            <button id="defaultImageBtn" class="custom-btn secondary">默认图片</button>
          </div>
        </div>
        
        <div>
          <label class="block text-gray-300 mb-2">显示比例</label>
          <div class="grid grid-cols-2 gap-3">
            <button class="custom-btn secondary aspect-ratio-btn active" data-ratio="9-16">9:16 竖屏</button>
            <button class="custom-btn secondary aspect-ratio-btn" data-ratio="1-1">1:1 方形</button>
            <button class="custom-btn secondary aspect-ratio-btn" data-ratio="4-5">4:5 Instagram</button>
            <button class="custom-btn secondary aspect-ratio-btn" data-ratio="16-9">16:9 横屏</button>
          </div>
        </div>
        
        <div>
          <label class="block text-gray-300 mb-2">图标显示</label>
          <div class="flex items-center gap-2">
            <input type="checkbox" id="showIconCheckbox" checked class="w-4 h-4">
            <label for="showIconCheckbox" class="text-gray-300">显示视频图标</label>
          </div>
        </div>
        
        <button id="downloadBtn" class="custom-btn w-full">下载封面</button>
      </div>
    </div>
    
    <!-- 右侧预览区域 -->
    <div class="lg:w-2/3 flex flex-col items-center">
      <div class="macbook-container">
        <div class="macbook-frame">
          <div class="macbook-camera"></div>
          <div class="macbook-screen">
            <div id="previewContainer" class="macbook-content">
              <div class="vertical-divider left"></div>
              <div class="vertical-divider right"></div>
              <div id="coverPreview" class="relative w-full h-full">
                <!-- 标题区域 -->
                <div class="absolute top-4 left-0 right-0 px-4 flex justify-between items-start z-10">
                  <div class="header-line pl-3">
                    <h1 id="displayTitle" class="text-white text-2xl font-bold leading-tight">一天一个<br>强大的网站</h1>
                  </div>
                  <div id="displayEpisode" class="episode-tag text-xl font-bold">第74期</div>
                </div>

                <!-- 图片容器 -->
                <div class="image-container w-full h-full">
                  <img id="displayImage" src="1.png" alt="封面背景图片" class="main-image">
                  <!-- 视频播放图标 -->
                  <div id="displayIcon" class="film-icon"></div>
                </div>
              </div>
            </div>
          </div>
          <div class="macbook-base"></div>
        </div>
      </div>
      
      <div class="mt-6 text-gray-300 text-center">
        <p>预览区域 - <span id="currentRatio">16:9</span> 比例</p>
      </div>
    </div>
  </div>

  <script>
    // 获取DOM元素
    const mainTitleInput = document.getElementById('mainTitleInput');
    const subTitleInput = document.getElementById('subTitleInput');
    const episodeInput = document.getElementById('episodeInput');
    const colorPicker = document.getElementById('colorPicker');
    const colorValue = document.getElementById('colorValue');
    const imageInput = document.getElementById('imageInput');
    const uploadBtn = document.getElementById('uploadBtn');
    const defaultImageBtn = document.getElementById('defaultImageBtn');
    const showIconCheckbox = document.getElementById('showIconCheckbox');
    const downloadBtn = document.getElementById('downloadBtn');
    const ratioButtons = document.querySelectorAll('.aspect-ratio-btn');
    
    const displayTitle = document.getElementById('displayTitle');
    const displayEpisode = document.getElementById('displayEpisode');
    const displayImage = document.getElementById('displayImage');
    const displayIcon = document.getElementById('displayIcon');
    const previewContainer = document.getElementById('previewContainer');
    const currentRatio = document.getElementById('currentRatio');
    
    // 更新标题和期数
    function updateText() {
      const mainTitle = mainTitleInput.value || '一天一个';
      const subTitle = subTitleInput.value || '强大的网站';
      const episode = episodeInput.value || '74';
      
      displayTitle.innerHTML = `${mainTitle}<br>${subTitle}`;
      displayEpisode.textContent = `第${episode}期`;
    }
    
    // 更新颜色
    function updateColor() {
      const color = colorPicker.value;
      colorValue.textContent = color;
      
      document.querySelector('.header-line').style.borderColor = color;
      displayEpisode.style.backgroundColor = color;
    }
    
    // 更新图片
    function updateImage(src) {
      displayImage.src = src;
    }
    
    // 更新图标显示
    function updateIconVisibility() {
      displayIcon.style.display = showIconCheckbox.checked ? 'block' : 'none';
    }
    
    // 更新预览比例
    function updateAspectRatio(ratio) {
      // 更新当前比例显示
      const ratioMap = {
        '9-16': '9:16',
        '1-1': '1:1',
        '4-5': '4:5',
        '16-9': '16:9'
      };
      currentRatio.textContent = ratioMap[ratio];
      
      // 获取预览容器和图片
      const coverPreview = document.getElementById('coverPreview');
      const displayImage = document.getElementById('displayImage');
      const previewContainer = document.getElementById('previewContainer');
      
      // 根据比例调整内容区域和图片显示方式
      if (ratio === '9-16') {
        // 保持宽度不变，调整高度
        coverPreview.style.width = '56.25%'; // 9:16比例的宽度
        coverPreview.style.height = '100%';
        coverPreview.style.margin = '0 auto';
        displayImage.style.objectFit = 'cover';
        
        // 调整竖线位置
        document.querySelectorAll('.vertical-divider').forEach(divider => {
          if (divider.classList.contains('left')) {
            divider.style.left = '21.875%'; // 计算左侧竖线位置
          } else if (divider.classList.contains('right')) {
            divider.style.right = '21.875%'; // 计算右侧竖线位置
          }
        });
        
        // 为9:16比例优化标题位置
        document.querySelector('.absolute.top-4')?.classList.remove('top-4');
        document.querySelector('.absolute').classList.add('top-8');
      } else if (ratio === '1-1') {
        // 保持宽度不变，调整高度
        coverPreview.style.width = '100%';
        coverPreview.style.height = '100%';
        coverPreview.style.margin = '0 auto';
        displayImage.style.objectFit = 'cover';
        
        // 调整竖线位置
        document.querySelectorAll('.vertical-divider').forEach(divider => {
          if (divider.classList.contains('left')) {
            divider.style.left = '0'; // 重置左侧竖线位置
          } else if (divider.classList.contains('right')) {
            divider.style.right = '0'; // 重置右侧竖线位置
          }
        });
        
        // 恢复标题位置
        document.querySelector('.absolute.top-8')?.classList.remove('top-8');
        document.querySelector('.absolute').classList.add('top-4');
      } else if (ratio === '4-5') {
        // 保持宽度不变，调整高度
        coverPreview.style.width = '80%'; // 4:5比例的宽度
        coverPreview.style.height = '100%';
        coverPreview.style.margin = '0 auto';
        displayImage.style.objectFit = 'cover';
        
        // 调整竖线位置
        document.querySelectorAll('.vertical-divider').forEach(divider => {
          if (divider.classList.contains('left')) {
            divider.style.left = '10%'; // 计算左侧竖线位置
          } else if (divider.classList.contains('right')) {
            divider.style.right = '10%'; // 计算右侧竖线位置
          }
        });
        
        // 恢复标题位置
        document.querySelector('.absolute.top-8')?.classList.remove('top-8');
        document.querySelector('.absolute').classList.add('top-4');
      } else if (ratio === '16-9') {
        // 保持宽度不变，调整高度
        coverPreview.style.width = '100%';
        coverPreview.style.height = '100%';
        coverPreview.style.margin = '0 auto';
        displayImage.style.objectFit = 'cover';
        
        // 调整竖线位置
        document.querySelectorAll('.vertical-divider').forEach(divider => {
          if (divider.classList.contains('left')) {
            divider.style.left = '0'; // 重置左侧竖线位置
          } else if (divider.classList.contains('right')) {
            divider.style.right = '0'; // 重置右侧竖线位置
          }
        });
        
        // 恢复标题位置
        document.querySelector('.absolute.top-8')?.classList.remove('top-8');
        document.querySelector('.absolute').classList.add('top-4');
      }
      
      // 更新按钮状态
      ratioButtons.forEach(btn => {
        if (btn.dataset.ratio === ratio) {
          btn.classList.add('active');
          btn.style.backgroundColor = '#f5b200';
          btn.style.color = 'black';
        } else {
          btn.classList.remove('active');
          btn.style.backgroundColor = '#2a2a2a';
          btn.style.color = 'white';
        }
      });
    }
    
    // 下载封面
    function downloadCover() {
      // 提示用户需要使用html2canvas库
      alert('在实际应用中，这里会使用html2canvas库将预览区域转换为图片并下载。\n\n示例代码：\nhtml2canvas(document.getElementById("coverPreview")).then(canvas => {\n  const link = document.createElement("a");\n  link.download = "视频封面.png";\n  link.href = canvas.toDataURL("image/png");\n  link.click();\n});');
    }
    
    // 事件监听
    mainTitleInput.addEventListener('input', updateText);
    subTitleInput.addEventListener('input', updateText);
    episodeInput.addEventListener('input', updateText);
    colorPicker.addEventListener('input', updateColor);
    showIconCheckbox.addEventListener('change', updateIconVisibility);
    downloadBtn.addEventListener('click', downloadCover);
    
    // 上传图片
    uploadBtn.addEventListener('click', () => imageInput.click());
    imageInput.addEventListener('change', (e) => {
      if (e.target.files && e.target.files[0]) {
        const reader = new FileReader();
        reader.onload = (event) => {
          updateImage(event.target.result);
        };
        reader.readAsDataURL(e.target.files[0]);
      }
    });
    
    // 默认图片
    defaultImageBtn.addEventListener('click', () => {
      updateImage('1.png');
    });
    
    // 比例按钮
    ratioButtons.forEach(btn => {
      btn.addEventListener('click', () => {
        const ratio = btn.dataset.ratio;
        updateAspectRatio(ratio);
      });
    });
    
    // 初始化
    updateText();
    updateColor();
    updateIconVisibility();
    updateAspectRatio('16-9');
  </script>
</body>
</html> 